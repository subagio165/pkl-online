{% extends "layout.html" %}
{% block content %}

<button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Tambah Dosen</button>

<!-- Modal -->
<div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Dosen</h4>
      </div>
      <div class="modal-body">
    <form action="/edit_dosen" method="POST">
      <div class="form-group">
        <label>Nidn:</label>
        {% if form.nidn.errors %}
            {{ form.nidn(class="form-control form-control-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.nidn.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
            {{ form.nidn(class="form-control form-control-lg") }}
        {% endif %}

      </div>
      <div class="form-group">
        <label>Nama:</label>
        {% if form.nama.errors %}
            {{ form.nama(class="form-control form-control-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.nama.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
            {{ form.nama(class="form-control form-control-lg") }}
        {% endif %}

      </div>
      <div class="form-group">
        <label>Fakultas:</label>
        {% if form.fakultas.errors %}
            {{ form.fakultas(class="form-control form-control-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.fakultas.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
            {{ form.fakultas(class="form-control form-control-lg") }}
        {% endif %}

      </div>
      <div class="form-group">
        <label>Alamat:</label>
        {% if form.alamat.errors %}
            {{ form.alamat(class="form-control form-control-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.alamat.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
            {{ form.alamat(class="form-control form-control-lg") }}
        {% endif %}

      </div>
      <div class="form-group">
        <label>Telpon:</label>
        {% if form.telpon.errors %}
            {{ form.telpon(class="form-control form-control-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.telpon.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
            {{ form.telpon(class="form-control form-control-lg") }}
        {% endif %}

      </div>

            <div class="form-group">
        <label>tahun:</label>
        {% if form.tahun.errors %}
            {{ form.tahun(class="form-control form-control-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.tahun.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
            {{ form.tahun(class="form-control form-control-lg") }}
        {% endif %}

      </div>

      <div class="form-group">
        <label>Email:</label>
        {% if form.email.errors %}
            {{ form.email(class="form-control form-control-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.email.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
            {{ form.email(class="form-control form-control-lg") }}
        {% endif %}

      </div>
      <div class="form-group">
        <label>kuota:</label>
        {% if form.kuota.errors %}
            {{ form.kuota(class="form-control form-control-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.kuota.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
            {{ form.kuota(class="form-control form-control-lg") }}
        {% endif %}

      </div>      

      <div class="form-group">
        {{form.submit(class="btn btn-primary")}}
      </div>
    </form>
  </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>

<h2>List Dosen</h2>            
  <table class="table table-striped">
    <thead>
      <tr>
        <th>id</th>
        <th>Nidn</th>
        <th>Nama</th>
        <th>fakultas</th>
        <th>alamat</th>
        <th>telpon</th>
        <th>tahun</th>
        <th>email</th>
        <th>kuota</th>
    <th>AKSI</th>       
      </tr>
    </thead>
    <tbody>
      {% for dosen in dosen %}
      <tr>
        <th scope="row">{{dosen.id}}</th>
      <td>{{dosen.nidn}}</td>
      <td>{{dosen.nama}}</td> 
      <td>{{dosen.fakultas}}</td> 
      <td>{{dosen.alamat}}</td> 
      <td>{{dosen.telpon}}</td> 
      <td>{{dosen.tahun}}</td> 
      <td>{{dosen.email}}</td> 
      <td>{{dosen.kuota}}</td> 
        <td>
          <a href="#!" class="btn btn-warning btn-xs" data-toggle="modal" data-target="#modalEdit{{ dosen.id }}">Edit</a>
      <a href="/hapus/{{ dosen.id }}" class="btn btn-danger btn-xs" onclick="return confirm('Yakin ingin hapus?')">Hapus</a>
        </td>
      </tr>
      <!-- Modal -->


 <div id="modalEdit{{ dosen.id }}" class="modal fade" role="dialog">
   <div class="modal-dialog">
     <div class="modal-content">
       <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Edit Data</h4>
       </div>
       <div class="modal-body">
       <form action="" method="POST">
      <div class="form-group">
        <label>Nidn:</label>
        {% if form.nidn.errors %}
            {{ form.nidn(class="form-control form-control-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.nidn.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
            {{ form.nidn(class="form-control form-control-lg") }}
        {% endif %}

      </div>
      <div class="form-group">
        <label>Nama:</label>
        {% if form.nama.errors %}
            {{ form.nama(class="form-control form-control-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.nama.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
            {{ form.nama(class="form-control form-control-lg") }}
        {% endif %}

      </div>
      <div class="form-group">
        <label>Fakultas:</label>
        {% if form.fakultas.errors %}
            {{ form.fakultas(class="form-control form-control-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.fakultas.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
            {{ form.fakultas(class="form-control form-control-lg") }}
        {% endif %}

      </div>
      <div class="form-group">
        <label>Alamat:</label>
        {% if form.alamat.errors %}
            {{ form.alamat(class="form-control form-control-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.alamat.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
            {{ form.alamat(class="form-control form-control-lg") }}
        {% endif %}

      </div>
      <div class="form-group">
        <label>Telpon:</label>
        {% if form.telpon.errors %}
            {{ form.telpon(class="form-control form-control-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.telpon.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
            {{ form.telpon(class="form-control form-control-lg") }}
        {% endif %}

      </div>

            <div class="form-group">
        <label>tahun:</label>
        {% if form.tahun.errors %}
            {{ form.tahun(class="form-control form-control-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.tahun.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
            {{ form.tahun(class="form-control form-control-lg") }}
        {% endif %}

      </div>

      <div class="form-group">
        <label>Email:</label>
        {% if form.email.errors %}
            {{ form.email(class="form-control form-control-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.email.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
            {{ form.email(class="form-control form-control-lg") }}
        {% endif %}

      </div>
      <div class="form-group">
        <label>kuota:</label>
        {% if form.kuota.errors %}
            {{ form.kuota(class="form-control form-control-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.kuota.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
            {{ form.kuota(class="form-control form-control-lg") }}
        {% endif %}

      </div>           <div class="form-group">
          {{form.submit(class="btn btn-warning")}}
         </div>
       </form>
       </div>
       <div class="modal-footer">
       <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
       </div>
     </div>
   </div>
 </div>


      {% endfor %}
    </tbody>
  </table>

{% endblock %}